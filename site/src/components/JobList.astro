---
interface Job { title:string; company?:string; source:string; source_url:string; posted_at?:string; tags?:string[]; location?:string; }
const { jobs = [] } = Astro.props as { jobs: Job[] };
function fmtDate(s?:string){ try{ return s ? new Date(s).toLocaleDateString() : ''; }catch{ return s||''; } }
---
<ul style="list-style:none;padding:0;margin:0">
  {jobs.map((j) => (
    <li class="card">
      <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
        <div>
          <a href={j.source_url} target="_blank" rel="noopener noreferrer"><strong>{j.title}</strong></a>
          <div class="muted" style="margin-top:4px">
            {(j.company ? j.company + " â€¢ " : "") + (j.location || "Remote")}
          </div>
          <div style="margin-top:6px">
            {j.tags?.map(t => <span style="display:inline-block;border:1px solid #ddd;border-radius:999px;padding:2px 8px;margin-right:6px;font-size:12px">{t}</span>)}
          </div>
        </div>
        <div style="text-align:right;min-width:150px">
          <div class="muted" style="font-size:13px">{fmtDate(j.posted_at)}</div>
          <div class="muted" style="font-size:13px">via {j.source}</div>
        </div>
      </div>
    </li>
  ))}
</ul>
